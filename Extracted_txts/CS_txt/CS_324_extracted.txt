 

Section 5.5.

Games That Include an Element of Chance 133

 

are randomly distributed across the last layer of the tree. This last assumption is seriously flawed:
for example, if a move higher up the tree is a disastrous blunder, then most of its descendants
will look bad for the player who made the blunder. The value ofa node is therefore likely to
be highly correlated with the values of its siblings. The amount of correlation depends very
much on the particular game and indeed the particular position at the root. Hence, there is
an unavoidable component of empirical science involved in game-playing research, eluding the
power of mathematical analysis.

5.5 GAMES THAT INCLUDE AN ELEMENT OF CHANCE

CHANCE NODES

EXPECTED VALUE

Expecrivax VALUE

In real life, unlike chess, there are many unpredictable external events that put us into unforeseen
situations. Many games mirror this unpredictability by including a random element such as
throwing dice. In this way, they take us a step nearer reality, and it is worthwhile to see how this
affects the decision-making process.

Backgammon is a typical game that combines luck and skill. Dice are rolled at the
beginning ofa player's turn to determine the set of legal moves that is available to the player. In
the backgammon position of Figure 5.9, white has rolled a 6-5, and has four possible moves.

Although white knows what his or her own legal moves are, white does not know what
black is going to roll, and thus does not know what black's legal moves will be. That means white
cannot construct a complete game tree of the sort we saw in chess and Tic-Tac-Toe. A game tree
in backgammon must include chance nodes in addition to MAX and MIN nodes. Chance nodes
are shown as circles in Figure 5.10. The branches leading from each chance node denote the
possible dice rolls, and each is labelled with the roll and the chance that it will occur. There are
36 ways to roll two dice, each equally likely; but because a 6-5 is the same as a 5-6, there are
only 21 distinct rolls. The six doubles (1-1 through 6-6) have a 1/36 chance of coming up, the
other fifteen distinct rolls a 1/18 chance.

The next step is to understand how to make correct decisions. Obviously, we still want
to pick the move from Aj,..., A, that leads to the best position. However, each of the possible
positions no longer has a definite minimax value (which in deterministic games was the utility
of the leaf reached by best play). Instead, we can only calculate an average or expected value,
where the average is taken over all the possible dice rolls that could occur.

It is straightforward to calculate expected values of nodes. For terminal nodes, we use the
utility function, just like in deterministic games. Going one step up in the search tree, we hit a
chance node. In Figure 5.10, the chance nodes are circles; we will consider the one labelled C.
Let di be a possible dice roll, and P(d;)be the chance or probability of obtaining that roll. For
each dice roll, we calculate the utility of the best move for MIN, and then add up the utilities,
weighted by the chance that the particular dice roll is obtained. If we let S(C, di) denote the set
of positions generated by applying the legal moves for dice roll P(d;)to the position at C, then
we can calculate the so-called expectimax value of C using the formula

expectimax(C) = S~ P(d;) Maxses(cay(utility(s))
